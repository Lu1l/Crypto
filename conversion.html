<html>

<head>
    <meta charset="UTF-8">
    <title>cryptoonnaie</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script>
        function getPriceByCurrency(currency) {

            var price = 0;
            var value = document.getElementById('euro').value

            var myHeaders = new Headers();

            var myInit = {
                method: 'GET',
                headers: myHeaders,
                mode: 'cors',
                cache: 'default'
            };

            var myRequest = new Request('https://min-api.cryptocompare.com/data/price?fsym=EUR&tsyms=' + currency, myInit);

            fetch(myRequest, myInit)
                .then(function (response) {
                    return response.json()
                }).then(function (data) {
                    if (currency == 'NEO') {
                        document.getElementById('neo').value = value * data.NEO
                    } else if (currency == 'BTC') {
                        document.getElementById('bitcoin').value = value * data.BTC;
                    } else if (currency == "MKR") {
                        document.getElementById('maker').value = value * data.MKR;
                    } else if (currency == "ETH") {
                        document.getElementById('ethereum').value = value * data.ETH;
                    }else{
                        
                    }
                });
        }

        function convert() {
            getPriceByCurrency("BTC");
            getPriceByCurrency("ETH");
            getPriceByCurrency("MKR");
            getPriceByCurrency("NEO");
        }

        function addToHistoryTable() {
            var table = document.getElementById('table-history');
            var tableRow = table.insertRow(table.length);
            var tableCellEuro = tableRow.insertCell(tableRow.length);
            var tableCellBitcoin = tableRow.insertCell(tableRow.length);
            var tableCellEthereum = tableRow.insertCell(tableRow.length);
            var tableCellNeo = tableRow.insertCell(tableRow.length);
            var tableCellMaker = tableRow.insertCell(tableRow.length);
            tableCellEuro.append(document.getElementById('euro').value);
            tableCellBitcoin.append(document.getElementById('bitcoin').value);
            tableCellEthereum.append(document.getElementById('ethereum').value);
            tableCellNeo.append(document.getElementById('neo').value);
            tableCellMaker.append(document.getElementById('maker').value);

        }


    </script>

    <style>
    </style>
</head>

<body>
    <center>

        <ul>
            <li><a href="conversion.html">conversion</a></li>
            <li><a href="bitcoin.html">bitcoin</a></li>
            <li><a href="ethereum.html">ethereum</a></li>
            <li><a href="neo.html">neo</a></li>
            <li><a href="maker.html">maker</a></li>
        </ul>
        <br>


        <h2>Convertisseur de cryptomonnaie :</h2>

        <div class="form-group row d-flex justify-content-center">
            <div class=" col-3">
                <!--<div class="input-group-prepend">
                        <span class="input-group-text" id="inputGroup-sizing-sm">Euro</span>
                    </div> -->
                <input id="euro" onkeyup="convert()" placeholder="Euro" type="number" class="form-control">
            </div>
            <div class="col-1">
                <button type="button" onclick="addToHistoryTable()" id="ajouter"
                    class="btn btn-primary">ajouter</button>
            </div>

        </div>

        <br>

        <div class="form-group row d-flex justify-content-center mt-5">
            <div class="col-3">
                <input id="ethereum" readonly="readonly" class="form-control" type="number" placeholder="Ethereum">
            </div>
           <!--<div class="col-1">
                <button type="button" class="btn btn-primary">ok</button>
            </div> --> 
            <div class="col-3">
                <input id="bitcoin" readonly="readonly" class="form-control" type="number" placeholder="Bitcoin">
            </div>
            <!--<div class="col-1">
                <button type="button" class="btn btn-primary">ok</button>
            </div>
 -->
            
        </div>
        <div class="form-group row d-flex justify-content-center mt-5">
            <div class="col-3">
                <input id="neo" readonly="readonly" class="form-control" type="number" placeholder="Neo">
            </div>
            <!--<div class="col-1">
                <button type="button" class="btn btn-primary">ok</button>
            </div> -->
            
            <div class="col-3">
                <input id="maker" readonly="readonly" class="form-control" type="number" placeholder="Maker">
            </div>
            <!--<div class="col-1">

                <button type="button" class="btn btn-primary">ok</button>
            </div>--->
            
        </div>
        <br>
        <table id="table-history" class="table table-dark mt-5">
            <thead>
                <tr>
                    <th scope="col">Euro</th>
                    <th scope="col">Bitcoin</th>
                    <th scope="col">Ethereum</th>
                    <th scope="col">Neo</th>
                    <th scope="col">Maker</th>
                </tr>
            </thead>
            <tbody>

            </tbody>
        </table>

    </center>
</body>

<footer>
    <div class="fixed-bottom">
        <div
            style="height:62px; background-color: #FFFFFF; overflow:hidden; box-sizing: border-box; border: 1px solid #56667F; border-radius: 4px; text-align: right; line-height:14px; block-size:62px; font-size: 12px; font-feature-settings: normal; text-size-adjust: 100%; box-shadow: inset 0 -20px 0 0 #56667F;padding:1px;padding: 0px; margin: 0px; width: 100%;">
            <div style="height:40px; padding:0px; margin:0px; width: 100%;"><iframe
                    src="https://widget.coinlib.io/widget?type=horizontal_v2&theme=light&pref_coin_id=1505&invert_hover="
                    width="100%" height="36px" scrolling="auto" marginwidth="0" marginheight="0" frameborder="0"
                    border="0" style="border:0;margin:0;padding:0;"></iframe></div>
            <div
                style="color: #FFFFFF; line-height: 14px; font-weight: 400; font-size: 11px; box-sizing: border-box; padding: 2px 6px; width: 100%; font-family: Verdana, Tahoma, Arial, sans-serif;">
                <a href="https://coinlib.io" target="_blank"
                    style="font-weight: 500; color: #FFFFFF; text-decoration:none; font-size:11px">Cryptocurrency
                    Prices</a>&nbsp;by Coinlib
            </div>
        </div>

    </div>

</footer>

</html>